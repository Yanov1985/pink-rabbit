<!--
  üè™ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ Pink Rabbit
  üéØ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω –∫–∞–∫ Amazon + Apple + Instagram
  ‚ú® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, accessibility, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
-->
<template>
  <div class="catalog-page" role="main">
    <!-- üåà –ì–µ—Ä–æ–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º -->
    <CatalogHero
      :is-loading="isInitialLoading"
      :total-categories="totalCategories"
      :total-products="totalProducts"
    />

    <!-- üõçÔ∏è –°–µ—Ç–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤ -->
    <CatalogCategoriesGrid
      :is-loading="isInitialLoading"
      @category-selected="handleCategorySelection"
    />

    <!-- üì± –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <section class="catalog-features" aria-labelledby="features-heading">
      <div class="container">
        <h2 id="features-heading" class="sr-only">
          –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞
        </h2>

        <div class="features-grid">
          <!-- üöö –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ -->
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              üöö
            </div>
            <h3 class="feature-title">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
            <p class="feature-description">
              –î–æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1-3 –¥–Ω–µ–π
            </p>
          </div>

          <!-- üîí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å -->
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              üîí
            </div>
            <h3 class="feature-title">100% –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h3>
            <p class="feature-description">
              –î–∏—Å–∫—Ä–µ—Ç–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ –±–µ–∑ –æ–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
            </p>
          </div>

          <!-- ‚≠ê –ö–∞—á–µ—Å—Ç–≤–æ -->
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              ‚≠ê
            </div>
            <h3 class="feature-title">–¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª</h3>
            <p class="feature-description">
              –†–∞–±–æ—Ç–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏
            </p>
          </div>

          <!-- üí≥ –û–ø–ª–∞—Ç–∞ -->
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              üí≥
            </div>
            <h3 class="feature-title">–£–¥–æ–±–Ω–∞—è –æ–ø–ª–∞—Ç–∞</h3>
            <p class="feature-description">
              –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏, –Ω–∞–ª–∏—á–Ω—ã–µ
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <section class="catalog-contact" aria-labelledby="contact-heading">
      <div class="container">
        <div class="contact-content">
          <h2 id="contact-heading" class="contact-title">
            –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ?
          </h2>
          <p class="contact-description">
            –ù–∞—à–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—ã –ø–æ–º–æ–≥—É—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π —Ç–æ–≤–∞—Ä
          </p>
          <div class="contact-actions">
            <a
              href="tel:+78001234567"
              class="contact-button primary"
              aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8 800 123 45 67"
            >
              üìû 8 800 123 45 67
            </a>
            <a
              href="mailto:support@pinkrabbit.ru"
              class="contact-button secondary"
              aria-label="–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞ email support@pinkrabbit.ru"
            >
              ‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º
            </a>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
// üéØ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è SEO
definePageMeta({
  title: "–ö–∞—Ç–∞–ª–æ–≥ –∏–Ω—Ç–∏–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ - –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö Pink Rabbit",
  description: "–ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∏–Ω—Ç–∏–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: –≤–∏–±—Ä–∞—Ç–æ—Ä—ã, –º–∞—Å—Ç—É—Ä–±–∞—Ç–æ—Ä—ã, –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤—ã, —Å–º–∞–∑–∫–∏, –ë–î–°–ú, –±–µ–ª—å–µ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ. –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏.",
  keywords: "–∏–Ω—Ç–∏–º–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, —Å–µ–∫—Å —à–æ–ø, –≤–∏–±—Ä–∞—Ç–æ—Ä—ã, –ø—Ä–µ–∑–µ—Ä–≤–∞—Ç–∏–≤—ã, —Å–º–∞–∑–∫–∏, —ç—Ä–æ—Ç–∏—á–µ—Å–∫–æ–µ –±–µ–ª—å–µ, –ë–î–°–ú",
});

// üåê SEO –º–µ—Ç–∞ —Ç–µ–≥–∏ –∫–∞–∫ –≤ Amazon
useSeoMeta({
  title: "–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ - Pink Rabbit",
  ogTitle: "–ö–∞—Ç–∞–ª–æ–≥ –∏–Ω—Ç–∏–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ - Pink Rabbit",
  description: "–ö–∞—Ç–∞–ª–æ–≥ –∏–Ω—Ç–∏–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö —Å –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–æ–π",
  ogDescription: "–®–∏—Ä–æ–∫–∏–π –≤—ã–±–æ—Ä –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –ø–æ –†–æ—Å—Å–∏–∏",
  ogImage: "/images/catalog-hero.jpg",
  twitterCard: "summary_large_image",

  // Schema.org —Ä–∞–∑–º–µ—Ç–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–≤
  structuredData: {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ Pink Rabbit",
    "description": "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω –∏–Ω—Ç–∏–º–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö",
    "url": "https://pinkrabbit.ru/catalog",
    "mainEntity": {
      "@type": "ItemList",
      "numberOfItems": 20,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "–ò–Ω—Ç–∏–º–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "–í–∏–±—Ä–∞—Ç–æ—Ä—ã"
        }
      ]
    }
  }
});

// üìä –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
const isInitialLoading = ref(true);
const totalCategories = ref(20);
const totalProducts = ref(1547);

// üé≠ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
onMounted(async () => {
  // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
  console.log("üè™ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞");

  try {
    // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
    await new Promise(resolve => setTimeout(resolve, 1500));

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
    totalCategories.value = 20;
    totalProducts.value = 1547;

    console.log("üìä –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:", {
      categories: totalCategories.value,
      products: totalProducts.value
    });

  } catch (error) {
    console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞:", error);
  } finally {
    isInitialLoading.value = false;
    console.log("‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –≥–æ—Ç–æ–≤–∞");
  }
});

// üéØ –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
const handleCategorySelection = (category) => {
  console.log("üõçÔ∏è –í—ã–±—Ä–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è:", category.title);

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –∫–∞–∫ –≤ Google Analytics
  if (typeof gtag !== 'undefined') {
    gtag('event', 'category_selected', {
      'category_name': category.title,
      'category_slug': category.slug,
      'page_location': '/catalog'
    });
  }

  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è screen readers
  announceToScreenReader(`–ü–µ—Ä–µ—Ö–æ–¥ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é ${category.title}`);
};

// üì¢ Accessibility —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è screen readers
const announceToScreenReader = (message) => {
  const announcement = document.createElement('div');
  announcement.setAttribute('aria-live', 'polite');
  announcement.setAttribute('aria-atomic', 'true');
  announcement.className = 'sr-only';
  announcement.textContent = message;

  document.body.appendChild(announcement);

  setTimeout(() => {
    if (document.body.contains(announcement)) {
      document.body.removeChild(announcement);
    }
  }, 1000);
};

// üîÑ Cleanup –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
onUnmounted(() => {
  console.log("üßπ –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞");
});
</script>

<style scoped>
/* üé® –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
.catalog-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}

/* üõçÔ∏è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 1rem;
}

/* ‚ú® –°–µ–∫—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ */
.catalog-features {
  padding: 4rem 0;
  background: white;
  border-top: 1px solid #e2e8f0;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.feature-card {
  text-align: center;
  padding: 2rem 1rem;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border-radius: 16px;
  border: 1px solid #e2e8f0;
  transition: all 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  border-color: #cbd5e1;
}

.feature-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
  display: block;
}

.feature-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: #1f2937;
  margin: 0 0 0.75rem 0;
}

.feature-description {
  color: #6b7280;
  line-height: 1.6;
  margin: 0;
}

/* üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Å–µ–∫—Ü–∏—è */
.catalog-contact {
  padding: 4rem 0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
}

.contact-content {
  max-width: 600px;
  margin: 0 auto;
}

.contact-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 900;
  margin: 0 0 1rem 0;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.contact-description {
  font-size: 1.1rem;
  margin: 0 0 2rem 0;
  opacity: 0.9;
  line-height: 1.6;
}

.contact-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.contact-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.contact-button.primary {
  background: white;
  color: #667eea;
}

.contact-button.primary:hover {
  background: #f8fafc;
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(255, 255, 255, 0.3);
}

.contact-button.secondary {
  background: transparent;
  color: white;
  border-color: rgba(255, 255, 255, 0.3);
}

.contact-button.secondary:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: white;
  transform: translateY(-2px);
}

/* üîç Accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
  .features-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .feature-card {
    padding: 1.5rem 1rem;
  }

  .catalog-contact {
    padding: 3rem 0;
  }

  .contact-actions {
    flex-direction: column;
    align-items: center;
  }

  .contact-button {
    width: 100%;
    max-width: 280px;
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .feature-icon {
    font-size: 2rem;
  }

  .feature-title {
    font-size: 1.1rem;
  }

  .feature-description {
    font-size: 0.9rem;
  }
}

/* üé≠ –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.catalog-features,
.catalog-contact {
  animation: fadeInUp 0.8s ease-out;
}

/* üéØ Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ */
.feature-card,
.contact-button {
  will-change: transform;
}

/* üåü –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
* {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}
</style>
